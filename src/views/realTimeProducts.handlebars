<h2>Realtime Products (WebSockets)</h2>
<p class="muted">Esta vista se actualiza automáticamente cuando se crean o eliminan productos.</p>

<h3>Lista en vivo</h3>
<table id="tbl">
    <thead>
        <tr>
            <th>ID</th>
            <th>Título</th>
            <th>Código</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Categoría</th>
        </tr>
    </thead>
    <tbody id="product-rows">
        {{#each products}}
        <tr>
            <td>{{this.id}}</td>
            <td>{{this.title}}</td>
            <td>{{this.code}}</td>
            <td>{{this.price}}</td>
            <td>{{this.stock}}</td>
            <td>{{this.category}}</td>
        </tr>
        {{/each}}
    </tbody>
</table>

<hr />

<h3>Crear producto (socket)</h3>
<form id="formCreate">
    <div class="row">
        <input name="title" placeholder="title *" required />
        <input name="code" placeholder="code *" required />
    </div>
    <textarea name="description" placeholder="description *" required></textarea>
    <div class="row">
        <input name="price" type="number" step="0.01" placeholder="price *" required />
        <input name="stock" type="number" placeholder="stock *" required />
        <input name="category" placeholder="category *" required />
    </div>
    <div class="row">
        <label><input type="checkbox" name="status" checked /> status</label>
        <input name="thumbnails" placeholder="thumbnails (coma separada) ej: /img/a.png,/img/b.png" />
    </div>
    <button type="submit">Crear</button>
</form>

<h3>Eliminar producto (socket)</h3>
<form id="formDelete">
    <div class="row">
        <input name="pid" type="number" placeholder="id del producto *" required />
        <button type="submit">Eliminar</button>
    </div>
</form>

<p id="msg" class="muted"></p>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/realtime.js"></script>